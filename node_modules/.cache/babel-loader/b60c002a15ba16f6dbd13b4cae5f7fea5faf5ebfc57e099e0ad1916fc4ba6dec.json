{"ast":null,"code":"var _jsxFileName = \"/home/erick/Desktop/life-hacks/hacks-frontend/src/Components/Singlehack.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Singlehack = () => {\n  _s();\n  const [cheats, setCheats] = useState([]);\n  useEffect(() => {\n    const fetchCheats = async () => {\n      try {\n        const response = await axios.get('/api/hot');\n        setCheats(response.data.Hot);\n      } catch (error) {\n        console.error('Error fetching cheats:', error);\n      }\n    };\n    fetchCheats();\n  }, []);\n  const handleAction = async (cheatId, action) => {\n    try {\n      // Make sure a user can only click once\n      const updatedCheats = cheats.map(cheat => {\n        if (cheat.id === cheatId && !cheat[action]) {\n          cheat[action] = true;\n          cheat[action === 'likes' ? 'dislikes' : action === 'dislikes' ? 'likes' : ''] = false;\n          cheat[action === 'reports' ? 'likes' : ''] = false;\n          cheat[action === 'reports' ? 'dislikes' : ''] = false;\n          cheat[action] += 1;\n        }\n        return cheat;\n      });\n      setCheats(updatedCheats);\n\n      // Send PUT request to update the count on the server\n      await axios.put(`/api/updatecheat/${cheatId}`, {\n        [action]: 1\n      });\n    } catch (error) {\n      console.error(`Error ${action}ing cheat:`, error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cheat-container\",\n    children: cheats.map(cheat => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cheat-card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: cheat.hack\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cheat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [cheat.username, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Hack: \", cheat.likes, \" | \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Wack: \", cheat.dislikes, \" | \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Reports: \", cheat.reports, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-actions-side\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => handleAction(cheat.id, 'likes'),\n            children: \" Like\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => handleAction(cheat.id, 'dislikes'),\n            children: \"Dislike\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => handleAction(cheat.id, 'reports'),\n            children: \"Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this)\n    }, cheat.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(Singlehack, \"Hop1d5XTD8EOJdwtR6dvAxvz2H0=\");\n_c = Singlehack;\nexport default Singlehack;\nvar _c;\n$RefreshReg$(_c, \"Singlehack\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Singlehack","_s","cheats","setCheats","fetchCheats","response","get","data","Hot","error","console","handleAction","cheatId","action","updatedCheats","map","cheat","id","put","className","children","hack","fileName","_jsxFileName","lineNumber","columnNumber","username","likes","dislikes","reports","type","onClick","_c","$RefreshReg$"],"sources":["/home/erick/Desktop/life-hacks/hacks-frontend/src/Components/Singlehack.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst Singlehack = () => {\n  const [cheats, setCheats] = useState([]);\n\n  useEffect(() => {\n    const fetchCheats = async () => {\n      try {\n        const response = await axios.get('/api/hot');\n        setCheats(response.data.Hot);\n      } catch (error) {\n        console.error('Error fetching cheats:', error);\n      }\n    };\n\n    fetchCheats();\n  }, []);\n\n  const handleAction = async (cheatId, action) => {\n    try {\n      // Make sure a user can only click once\n      const updatedCheats = cheats.map((cheat) => {\n        if (cheat.id === cheatId && !cheat[action]) {\n          cheat[action] = true;\n          cheat[action === 'likes' ? 'dislikes' : action === 'dislikes' ? 'likes' : ''] = false;\n          cheat[action === 'reports' ? 'likes' : ''] = false;\n          cheat[action === 'reports' ? 'dislikes' : ''] = false;\n          cheat[action] += 1;\n        }\n        return cheat;\n      });\n      setCheats(updatedCheats);\n\n      // Send PUT request to update the count on the server\n      await axios.put(`/api/updatecheat/${cheatId}`, { [action]: 1 });\n    } catch (error) {\n      console.error(`Error ${action}ing cheat:`, error);\n    }\n  };\n\n  return (\n    <div className='cheat-container'>\n      {cheats.map((cheat) => (\n        <div key={cheat.id} className=\"cheat-card\">\n            <div className='card-container'>\n                <div>\n                    <h3>{cheat.hack}</h3>\n                    <div className='cheat-info'>\n                        <h4>{cheat.username} </h4>\n                        <p>Hack: {cheat.likes} | </p>\n                        <p>Wack: {cheat.dislikes} | </p>\n                        <p>Reports: {cheat.reports} </p>\n\n                    </div>\n                </div>\n                <div className='card-actions-side'>\n                    <button type='button' onClick={() => handleAction(cheat.id, 'likes')}> Like</button>\n                    <button type='button' onClick={() => handleAction(cheat.id, 'dislikes')}>Dislike</button>\n                    <button type='button' onClick={() => handleAction(cheat.id, 'reports')}>Report</button>\n                \n                </div>\n            </div>\n  \n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Singlehack;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}